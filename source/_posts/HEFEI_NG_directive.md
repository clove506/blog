---
title: 【优护助手-合肥】前端angular指令划分
date: 2016-12-12 19:30:13
categories: 合肥
tags:
- 优护助手
- 前端
- angular
---

# 合肥B/C前端指令设计
[TOC]

------
## 引言
该文档为合肥B/C端初步指令设计，根据最新的UI将必需要重用的指令进行提取，并在页面文档部分以***指令(指令名)***的方式进行引用
## 指令设计
### 服务信息
![](/media/14811900275816/14815335826153.jpg)
只显示缩略图／标题／金额
### 订单信息
![](/media/14811900275816/14815338229334.jpg)
![](/media/14811900275816/14815339308803.jpg)
**继承服务信息**
状态显示／按钮显示不根据状态判断，由后台为状态／按钮提供字段控制；描述显示全部，不做两行自动...；注意提供参数显示状态右侧‘>’/显示服务详情/超链接/操作区域
### 可服务项
![](/media/14811900275816/14815361496450.jpg)

**继承服务信息**
点击开关向服务器发送请求；服务描述CSS控制两行...，点击隐藏／添加CSS实现卷展
### C端小服务列表
![](/media/14811900275816/14815364846902.jpg)

### C端大服务详情
![](/media/14811900275816/14815365154580.jpg)
描述显示全部，不做两行自动...
### 服务内容
![](/media/14811900275816/14815371779681.jpg)
![](/media/14811900275816/14815372568205.jpg)

可显示／隐藏状态，根据服务器字段显示对应状态，点击后展开服务内容详情，B端显示操作按钮，左侧123用普通数字字体即可。
### 用户退款
![](/media/14811900275816/14811961176169.jpg)
### 订单已关闭／取消／运营介入
![](/media/14811900275816/14812045100023.jpg)
![](/media/14811900275816/14812045594701.jpg)
根据服务器返回字段显示标题和描述
### 患者评价
![](/media/14811900275816/14815374505261.jpg)
星用background实现，两个图层叠加，前面的图层设置宽度覆盖后面的即可；评价详情做2行...的卷展
### 服务护士
![](/media/14811900275816/14815375533052.jpg)
### C端新tabbar1
![](/media/14811900275816/14812027025347.jpg)
C端根据hospital进行判断来应用新tabbar
### C端新tabbar2
![](/media/14811900275816/14812031557176.jpg)
### C端新首页工具
![](/media/14811900275816/14812028265490.jpg)
替换现有C端首页工具，添加咨询护士


##B 端
### 页面流转
![](/media/14811900275816/14815416132816.jpg)

```mermaid
graph TD
Tools["工作台"]
OrderList["订单列表"]
OrderDetail["订单详情"]
ServiceConfig["服务设置管理"]
ServiceSelect["修改服务类目"]
Finance["我的收益"]
ToolResult["评估结果"]
Tools-->OrderList
OrderList-->OrderDetail
OrderDetail-->ToolResult
Tools-->ServiceConfig
OrderDetail-->OrderDetail
ServiceConfig-->ServiceSelect
ServiceConfig-->Finance
```
### 工作台
![](/media/14811900275816/14815376880184.jpg)

与现有B端工具并列，resolve内请求接口决定显示工具页
### 订单列表
![](/media/14811900275816/14815377249970.jpg)
![](/media/14811900275816/14815378311426.jpg)
两个状态分别请求接口显示数据；待接单列表需要显示接单按钮，已经单内无按钮。
#### 相关指令：   
订单列表 |  
--------- |  
...(切换状态) |  
指令(订单信息)|  

### 订单详情
![](/media/14811900275816/14815378927035.jpg)
服务详情不做两行...;根据后台字段是否为undefined来显示字段对应指令，当全部操作已完成时显示完成订单；部分操作需要弹出确认框／输入框。
#### 相关指令
订单详情 |  
--------- |  
指令(订单信息)| 
指令(服务内容)| 
指令(用户退款)|  
指令(用户评价)|  
指令(运营介入)|  
指令(订单已关闭)|  
指令(订单已取消)|  
...(操作)|  
### 服务设置管理
![](/media/14811900275816/14815381300850.jpg)
评价详情做两行...卷展
#### 相关指令
服务设置管理 |  
--------- |  
...(操作)| 
指令(患者评价)| 
### 修改服务类目
![](/media/14811900275816/14815381724617.jpg)
评价详情做两行...卷展
#### 相关指令
可服务项目 |  
--------- |   
指令(可服务项)| 
### 我的收益
待定
### 评估结果
略
## C端
### 页面流转
![](/media/14811900275816/14815416380418.jpg)

```mermaid
graph TD
Index["首页"]
ServiceList["康复服务"]
ServiceDetail["服务详情"]
ServiceSubmit["预约服务"]
OrderDetail["订单详情"]
OrderList["订单列表"]
ServiceCancel["申请退款"]
planDetail["宣教"]
toolDetail["工具"]
ToolResult["评估结果"]

Index-->ServiceList
ServiceList-->OrderList
ServiceList-->ServiceDetail
ServiceDetail-->ServiceSubmit
ServiceSubmit-->OrderDetail
OrderList-->OrderDetail
OrderDetail-->OrderDetail
OrderDetail-->ToolResult
OrderDetail-->ServiceCancel
OrderDetail-->toolDetail
OrderDetail-->planDetail 
ServiceCancel-->OrderDetail
```
### 首页
![](/media/14811900275816/14815387146722.jpg)

康复服务详情超过一行...；康复工具需更新；首页/康复工具/我的都添加接口字段控制康复服务的显示／隐藏。
#### 相关指令
首页 |  
--------- |  
...(无修改) |  
指令(C端新首页工具)| 
指令(C端小服务列表)|  
...(无修改)|  
指令(C端新tabbar1)|  
### 康复服务
![](/media/14811900275816/14815387565825.jpg)
banner和banner上文字后台分别提供字段
#### 相关指令
康复服务 |  
--------- |  
...(Banner图) |  
指令(C端小服务列表)|  
指令(C端新tabbar2)|
### 服务详情
![](/media/14811900275816/14815388149259.jpg)
#### 相关指令
服务详情|  
--------- |   
指令(C端大服务详情)|  
指令(服务内容)|
...(立即预约)|
### 预约服务
![](/media/14811900275816/14815390746693.jpg)
表单的服务地址使用高德地图的地址选择功能；姓名／性别／年龄／电话在提交时存到localstorage且每次下单读取。
高德地图代码参照：https://github.com/Youhujia/YHZS-V0.8-html5/blob/master/assess/
register.html
https://github.com/Youhujia/YHZS-V0.8-html5/blob/master/js/mobile/app/assess/register.js
JS内Autocomplete.type需要查找高德地图API
#### 相关指令
预约服务 |  
--------- |   
指令(服务信息)|  
...(表单 可做个指令)|
...(金额／提交)|

### 订单列表
![](/media/14811900275816/14815393416589.jpg)
各个状态分别请求接口加载数据
#### 相关指令
订单列表 |  
--------- |  
...(切换状态) |  
指令(订单信息)|  
指令(C端新tabbar2)|

### 订单详情
![](/media/14811900275816/14815391754642.jpg)
![](/media/14811900275816/14815396766767.jpg)
![](/media/14811900275816/14815393107659.jpg)
![](/media/14811900275816/14815394193294.jpg)
**基本同B端，服务／订单无完成操作按钮，增加部分功能如服务护士和订单支付**
评价页和支付页已合并到详情页；宣教／工具可跳转到对应页面
#### 相关指令
订单详情 |  
--------- |  
指令(订单信息)| 
指令(服务内容)| 
指令(服务护士)|  
指令(用户退款)|  
指令(用户评价)|  
指令(运营介入)|  
指令(订单已关闭)|  
指令(订单已取消)|  
...(操作)|  

### 申请退款
![](/media/14811900275816/14815397026189.jpg)

#### 相关指令
申请退款 |  
--------- |  
...(退款原因)| 
...(退款金额)| 
...(退款说明)|  
...(提交)|  

