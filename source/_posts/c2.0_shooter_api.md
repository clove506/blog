---
title: C端2.0改版Shooter API
date: 2017-4-11 17:30:00
categories: C++
tags:
- 优护助手
---

# 摘要
C端2.0改版Shooter API

<!--more-->
## 应用场景 & 交互功能点
### 1. 首页
- 1.1 Banner图片//todo
- 1.2 最近扫码科室，点击进入该科室简介
- 1.3 我关注的疾病：
- 1.3.1 显示关注的所有疾病，点击某一疾病，查看该疾病下的存在的所有文章，点击文章，查看文章内容
- 1.3.2 点击全部，进入关注疾病管理页面，可对当前关注的疾病进行编辑或对未进行关注的疾病进行关注，并且可以对搜索某些疾病
- 1.4 自评工具：
- 1.4.1 健康测评 ：点击进入最近扫码科室的门户主页，即科室下的所有内容包括服务等
- 1.4.2 咨询护士： 点击进入最近扫码科室的列表中，选择护士，进入聊天页面  //todo
- 1.5 康复服务：最近扫码的前三个科室的信息

### 2. 康复中心
- 2.1 有扫码科室：
- 2.1.1 一个扫码科室，显示该科室门户，即显示该科室下的所有内容包括服务等
- 2.1.1 多个扫码科室，显示科室列表，附带科室下的服务于咨询护士，点击某个科室进入该科室门户

### 3. 个人中心
- 3.1 个人信息：头像、年龄、性别、姓名
- 3.2 管理关注的疾病
- 1.1 通过扫可是二维码进入主页，选择关注科室下疾病，
- 1.2 无扫码，通过优护家公众号进入首页，默认关注通用科室里的常用疾病
- 1.3 在首页中会显示我所关注的疾病，点击全部，进入关注管理疾病页面，对关注的疾病进行相应操作。
- 1.4 在“我的”页面中点击管理关注疾病进入关注管理疾病页面，对关注的疾病进行相应操作。
- 1.5 关注管理疾病页面
  - 1.5.1 显示我所关注的疾病与通用疾病列表
  - 1.5.2 编辑我所关注的疾病
  - 1.5.3 搜索疾病
- 3.3 康复记录 ：当前可是下的所有随访评估记录
- 3.3.1 随访：查看护士随访的信息，随访中有宣教文章与自测，有咨询护士
- 3.3.2 评估：
- 3.4 我的订单：用户的所有订单历史记录，点击某个订单，可看订单详情，并且可以对该订单进行相应的操作
## 登录注册相关设计方案
### 扫科室二维码，关注科室及科室疾病
![](/media/QQ20170420-164705.png)
给用户添加科室及科室疾病的逻辑，放在shooter中。意味着“通过OpenID获取用户信息”开始的逻辑，调用Shooter接口。
### 页面访问逻辑
![](/media/QQ20170420-164735.png)
### 微信授权登录
![](/media/QQ20170420-164722.png)
### 注册(完善手机等信息)
![](/media/QQ20170420-204542.png)


## 接口设计
**接口索引**

| 内容   | 功能                  | Request Method & URL                     |
| ---- | ------------------- | ---------------------------------------- |
| 登录注册 | 完善个人信息（注册）          | POST /api/shooter/v1/users/register |
| 首页   | 获取首页前端组件加载列表+banner | GET /api/shooter/v1/component/home/load-list-and-banner |
|      | 获取首页我关注的疾病样式数据      | GET /api/shooter/v1/component/home/followed-disease/{componentId} |
|      | 获取首页自评工具样式数据        | GET /api/shooter/v1/component/home/self-evaluation/{componentId} |
|      | 获取首页康复服务            | GET /api/shooter/v1/component/home/item/{componentId} |
|      | 获取优护家自测工具           | GET /api/shooter/v1/component/yhj/self-evaluation/{componentId} |
| 康复中心 | 获取扫码(关注)科室列表+最近科室   | GET /api/shooter/v1/users/followed-department |
|      | 获取科室前端组件加载列表+科室信息   | GET /api/shooter/v1/component/departments/{departmentId}/load-list-and-department-info |
|      | 获取科室自建文章模块          | GET /api/shooter/v1/component/departments/{departmentId}/article-group/{componentId} |
|      | 获取科室自测模块            | GET /api/shooter/v1/component/departments/{departmentId}/self-evaluation/{componentId} |
|      | 获取科室服务模块            | GET /api/shooter/v1/component/departments/{departmentId}/item/{componentId} |
|      | 获取科室精彩推荐            | GET /api/shooter/v1/component/departments/{departmentId}/recommended/{componentId} |
| 文章   | 查询自建文章模块对应文章           | GET /api/shooter/v1/component/departments/{departmentId}/article-group/{componentId}/{articleGroupId} |
|      | 查询前台疾病对应文章          | GET /api/shooter/v1/articles/diseases/{diseaseId} |
|      | 获取文章内容              | GET /api/shooter/v1/articles/{articleId} |
|      | 文章精彩推荐              | GET /api/shooter/v1/articles/{articleId}/recommended |
|      | 文章点赞/收藏             | PATCH /api/shooter/v1/articles/favor-or-like/{articleId} |
| 疾病   | 获取疾病列表             | GET /api/shooter/v1/diseases             |
| 自测   | 获取单个自测题目详情      | GET /api/shooter/v1/self-evaluation/{evaluationId} |
|       | 患者提交自测             | POST /api/shooter/v1/self-evaluation/submit/{evaluationId} |
|      | 查看自测结果              | GET /api/shooter/v1/self-evaluation/result/{evaluationId} |
| 服务   | 获取服务详情              | 复用原接口                                    |
| 咨询   | 护士列表                | GET /api/shooter/v1/departments/{departmentId}/nurse |
| 个人中心 | 个人信息                | GET /api/shooter/v1/users/info       |
|      | 我关注的疾病              | GET /api/shooter/v1/users/followed-diseases |
|      | 编辑所关注的疾病            | PATCH /api/shooter/v1/users/followed-diseases |
|      | 已阅读的文章列表            | GET /api/shooter/v1/users/articles/read |
|      | 收藏的文章列表             | GET /api/shooter/v1/users/articles/favor |
|      | 订单列表                | GET /api/shooter/v1/users/orders?status={status}&index={index}&size={size} |
|      | 康复记录列表              | GET /api/shooter/v1/users/records |
|      | 查看随访详情              | GET /api/shooter/v1/users/follow-up/{followUpId} |
|      | 发起沟通                | GET /api/shooter/v1/users/im/{fromUserId}/to-nurse/{toNurseId} |


TODO:

1. 文章详情里的「精彩推荐」和科室门户里的「精彩推荐」逻辑不一样，科室门户是自定义的。
2. 自评、康护服务、文章没有入口
3. 康复记录 随访：需要通过`target`字段获取患者信息， 需要 sophon 支持

### 1. 登录注册

#### 1.1 完善个人信息（注册）
> POST /api/shooter/v1/users/register

- Request

```json
{
    "name":"xxx",
    "birthday":1231243324,
    "gender":1,
    "phone":"17501004368",
    "captcha":"1234",
}
```

* Response


```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data":{
        "user":{
            "userId":1,
            "name":"xxx",
            "birthday":1231243324,
            "gender":1,
            "phone":"17501004368",
            "token":"asdasghfdjasgjgwj"
          }
    }
}
```

### 2 首页
#### 2.1 获取首页前端组件加载列表+banner
> GET /api/shooter/v1/component/home/load-list-and-banner

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
        "loadinfo":{
          "banner": [
            {
              "id": 1,
              "type": "article",
              "name": "文章的名称",
              "brief": "文章的简要描述",
              "bannerUrl": "http://xxx"
            }
          ],
           "latestDepartment":{
               "departmentId": 1,
               "departmentName": "脊柱外科",
               "organizationId": 1,
               "organizationName": "解放军309医院",
               "bannerUrl":"http://xxx"
           },
           "component":[
             {
               "componentId":1,
               "type":"home-followed-disease"
             },{
               "componentId":1,
               "type":"home-self-evaluation"
             },{
               "componentId":1,
               "type":"home-item"
             }
          ]
        }
    }     
}
```
#### 2.2 获取首页我关注的疾病样式数据
> GET /api/shooter/v1/component/home/followed-disease/{componentId}

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
        "component":{
            "title": "我关注的疾病",
            "disease": [
              {
                "diseaseId": 1,
                "diseaseName": "糖尿病",
                "iconColor": "red",
                "icon": "&#xe613"
              }
            ]
        }
    }     
}
```
#### 2.3 获取首页自评工具样式数据
> GET /api/shooter/v1/component/home/self-evaluation/{componentId}

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
        "component":{
            "title": "康复工具",
            "evaluationGroup": [
              {
                "departmentId": 1,
                "organizationName": "解放军309医院",
                "departmentName": "脊柱外科",
                "evaluation": [
                   {
                      "evaluationId": 1,
                      "evaluationName": "自理能力自测",
                      "iconColor": "red",
                      "icon": "&#xe613"
                   }
                ]
              }
            ]
        }
    }     
}
```
#### 2.4 获取首页康复服务
> GET /api/shooter/v1/component/home/item/{componentId}

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
        "component":{
          "title:": "康护服务",
          "itemGroup": [
            {
              "organizationName": "解放军309医院",
              "departmentName": "脊柱外科",
              "departmentNo": "309jz",
              "item": {
                "itemId": 123,
                "pic": "http://xxx.com/me.jpg",
                "title": "上门尿管护理",
                "desc": "根据患者病情状态，进行导尿管常规处理",
                "price": 12000
              }
            }
          ]
        }
    }     
}
```

#### 2.5 查询前台疾病对应文章
文章中的 status 应该用 protobuf 的 enum 表示，参考知识库中的`Article`.
> GET /api/shooter/v1/articles/diseases/{diseaseId}

* Response

  ```json
  {
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
        "article": [
          {
            "articleId": 1,
            "name": "文章的名称",
            "brief": "文章的简要描述",
            "bannerUrl": "http://xxx",
          }
        ]
    }
  }
  ```
#### 2.6 获取文章内容
> GET /api/shooter/v1/articles/{articleId}

* Response

```json
{
  "result": {
      "success": true,
      "code": 0
  },
  "data": {
      "article": {
          "articleId": 1,
          "name": "文章的名称",
          "brief": "文章的简要描述",
          "author": "作者姓名",
          "content": "xxxx",
          "bannerUrl": "http://xxx",
          "categoryId": 1,
          "categoryName": "疾病常识",
          "likeCount": 10,
          "liked":true,
          "favored": false,
          "read": true,         
        }
  }
}
```

#### 2.7 文章精彩推荐
> GET /api/shooter/v1/articles/{articleId}/recommended

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
         "component":{
           "title":"精彩推荐",
           "recommended":[
             {
               "articleId": 1,
               "name": "文章的名称",
               "brief": "文章的简要描述",
               "bannerUrl": "http://xxx",
               "read": false
             }
           ]
         }
    }     
}
```

#### 2.8 文章点赞/收藏

> PATCH /api/shooter/v1/articles/favor-or-like/{articleId}

- Request

```json
{
 "type":"favor"
}
```

- Response

```json
{
  "result": {
      "success": true,
      "code": 0
  },
  "data": {
      "article": {
          "articleId": 1,
          "name": "文章的名称",
          "brief": "文章的简要描述",
          "author": "作者姓名",
          "content": "xxxx",
          "bannerUrl": "http://xxx",
          "categoryId": 1,
          "categoryName": "疾病常识",
          "likeCount": 10,
          "liked":true,
          "favored": false,
          "read": true,         
        }
  }
}
```


#### 2.9 获取疾病列表

> GET /api/shooter/v1/diseases

* Response

```json
{
  "result": {
      "success": true,
      "code": 0
  },
  "data": {
      "diseaseGroup": [
        {
          "groupName": "内科",
          "disease": [
            {
              "diseaseId": 1,
              "diseaseName": "阿尔茨海默病",
              "choosed": true
            }
          ]
        }
      ]
  }
}
```
#### 2.10 获取优护家默认自测工具

> GET /api/shooter/v1/component/yhj/self-evaluation/{componentId}

- Response

```json
{
"result": {
    "success": true,
    "code": 0
  },
  "data":{
      "component":{
        "title": "优护家为您提供以下自测工具",
        "evaluation": [
          {
            "evaluationId": 1,
            "evaluationName": "自理能力自测",
            "iconColor": "red",
            "icon": "&#xe613"
          }
        ]
      }  
  }
}
```

### 3. 康复中心

#### 3.1 获取扫码(关注)科室列表
> GET /api/shooter/v1/users/followed-department

* Response

  ```json
  {
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
        "department": [
          {
              "departmentId": 1,
              "departmentName": "脊柱外科",
              "departmentNo": "309jz",
              "organizationId": 1,
              "organizationName": "解放军309医院",
              "bannerUrl":"http://xxx",
              "suggest": {
                  "id": 1,
                  "type": "self-evaluation",
                  "iconColor": "red",
                  "icon": "&#xe613",
                  "title": "营养自评"
              }
          }, {
              "departmentId": 2,
              "departmentName": "神经内科",
              "departmentNo": "301sjnk",
              "organizationId": 2,
              "organizationName": "解放军301医院",
              "bannerUrl":"http://xxx",
              "suggest": {
                  "id": 1,
                  "type": "item",
                  "title": "上门尿管护理"
              }
          }
        ]
    }
  }
  ```

#### 3.2 获取科室前端组件加载列表+科室信息

> GET /api/shooter/v1/component/departments/{departmentId}/load-list-and-department-info

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
      "loadinfo":{
        "department":{
          "departmentId": 2,
          "departmentName": "神经内科",
          "departmentNo": "309jz",
          "organizationId": 2,
          "organizationName": "解放军301医院",
          "bannerUrl":"http://xxx"
        },
        "component":[
          {
            "componentId":1,
            "type":"department-item",
          },{
            "componentId":1,
            "type":"department-self-evaluation",
          },{
            "componentId":1,
            "type":"department-article-group"
          },{
            "componentId":1,
            "type":"department-recommended"
          }
         ]
      }
    }     
}
```

#### 3.3 获取科室自建文章模块

> GET /api/shooter/v1/component/departments/{departmentsId}/article-group/{componentId}

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
        "component":{
          "title": "XXXX",
          "article-group": [
            {
              "articleGroupId": 1,
              "articleGroupName": "糖尿病",
              "iconColor": "red",
              "icon": "&#xe613"
            }
          ]
        }
    }     
}
```

#### 3.4 获取科室自评模块

> GET /api/shooter/v1/component/departments/{departmentId}/self-evaluation/{componentId}

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
      "component":{
        "title": "自评工具",
        "evaluation": [
          {
            "evaluationId": 1,
            "evaluationName": "自理能力自测",
            "iconColor": "red",
            "icon": "&#xe613"
          }
        ]
      }    
    }     
}
```

#### 3.5 获取科室服务模块
> GET /api/shooter/v1/component/departments/{departmentId}/item/{componentId}

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
      "component":{
        "title:": "康护服务",
        "item": [
          {
            "itemId": 123,
            "pic": "http://xxx.com/me.jpg",
            "title": "上门尿管护理",
            "desc": "根据患者病情状态，进行导尿管常规处理",
            "price": 12000
          }
        ]
      }    
    }     
}
```

#### 3.6 获取科室精彩推荐
> GET /api/shooter/v1/component/departments/{departmentId}/recommended/{componentId}

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data": {
      "component":{
        "title":"精彩推荐",
        "recommended":[
          {
            "articleId": 1,
            "name": "文章的名称",
            "brief": "文章的简要描述",
            "bannerUrl": "http://xxx",
            "read": false,
          }
        ]
      }   
    }     
}
```
#### 3.7 获取自建文章模块对应文章
> GET /api/shooter/v1/component/departments/{departmentsId}/article-group/{componentId}/{articleGroupId}

- Response

```json
{
  "result": {
    "success": true,
    "code": 0
  },
  "data": {
    "article": [
      {
        "articleId": 1,
        "name": "文章的名称",
        "brief": "文章的简要描述",
        "bannerUrl": "http://xxx",
      }
    ]
  }
}
```

#### 3.8 获取单个自评内容
> GET /api/shooter/v1/self-evaluation/{evaluationId}

* Request

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "evaluation":{
        "evaluationId": 1,
        "evaluationName":"HAMA焦虑自测",
        "iconColor": "red",
        "icon": "&#xe613",
        "question": [
          {
            "order":1,
            "questionId": 1,
            "questionType": "singleChoice",
            "questionContent": "问题的内容?",
            "questionDesc": "问题描述",
            "questionDescPicUrl": "http://questionDescpic.jpg/",
            "singleChoice": [
              {
                "order": 1,
                "choice": "问题选项， 填空题无选项"
              }
            ]
          }
        ]
      }
    }
  }
  ```

#### 3.9 患者提交自评
> POST /api/shooter/v1/self-evaluation/submit/{evaluationId}

* Request

  ```json
  {
    "answer": [
          {
            "order": 1,
            "content": [
              {
                "content": "问题答案"
              }
            ]
          }
        ]
  }
  ```

* Response

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "evaluation": {
        "evaluationId": 1,
        "evaluationName":"HAMA焦虑自测",
        "summary":"cxxxxx",
        "question": [
          {
            "questionId": 1,
            "rank": 1,
            "content": "问题的内容?",
            "option": [
              {
                "content": "问题选项"
              }
            ]
         }
        ]
      }
    }
  }
  ```

#### 3.10 获取服务详情
原有接口

#### 3.11 护士列表
> GET /api/shooter/v1/departments/{departmentId}/nurse

* Response

```json
 {

  "result": {
    "success": true,
    "code": 0
  },
  "data":{
    "nurse" : [
      {
        "nurseId" : 1,
        "name" : "hanmeimei",
        "avatar" : "http://404.com/me.jpg"
      }
    ]
  }
 }
```

### 4. 个人中心
#### 4.1 获取个人信息
> GET /api/shooter/v1/users/info

* Response

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "user":{
        "userId": 1,
        "userName": "张恒宇",
        "avatar": "http://xxx",
        "gender": 1,
        "age": 24
      }
    }
  }
  ```
#### 4.2 我关注的疾病
> GET /api/shooter/v1/users/followed-diseases

* Response

```json
{
  "result": {
    "success": true,
    "code": 0
  },
  "data": {
    "disease": [
      {
        "diseaseId": 1,
        "name": "阿尔茨海默病",
        "iconColor": "red",
        "icon": "&#xe613"
      }
    ]
  }
}
```
#### 4.3 编辑所关注的疾病
> PATCH /api/shooter/v1/users/followed-diseases

* Request

  ```json
  {
    "disease": [1]
  }
  ```

* Response

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "followedDisease": [
        {
          "diseaseId": 1,
          "name": "阿尔茨海默病"
        }
      ]
    }
  }
  ```
#### 4.4 已阅读的文章列表
特定时段内已阅读的文章
> GET /api/shooter/v1/users/articles/read

* Response

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "article": [
        {
          "articleId": 1,
          "name": "文章的名称",
          "brief": "文章的简要描述",
          "bannerUrl": "http://xxx"
        }
      ]
    }
  }
  ```
#### 4.5 收藏的文章列表
特定时段内已收藏的文章
> GET /api/shooter/v1/users/articles/favor

* Response

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "article": [
        {
          "articleId": 1,
          "name": "文章的名称",
          "brief": "文章的简要描述",
          "bannerUrl": "http://xxx"
        }
      ]
    }
  }
  ```
#### 4.6 订单列表
复用原有接口
>GET /api/shooter/v1/users/orders?status={status}&index={index}&size={size}

* Response

```json
{
    "result": {
        "success": true,
        "code": 0
    },
    "data":{
        "order": [
            {
                "orderId": 1,
                "orderNo":"1234",
                "createTime":1232423435,
                "organizationName":"合肥市互联网医院",
                "departmentName":"延续护理部",
                "departmentNo":"yxhlb",
                "item": {
                    "pic": "http://xxx.com/me.jpg",
                    "title": "上门尿管护理",
                    "price": 1200,
                    "period":120
                },
                "patient": {
                    "name": "张三",
                    "age": 13,
                    "phone":12312312312,
                    "sex": "男",
                    "servingTime": 1479712913000,
                    "address": "海淀区"
                },
                "status": {
                    "statusDisplayMsg": "待支付",
                    "color": "red"
                }
            }
        ]
    }
}
```
#### 4.7 康复记录列表
> GET /api/shooter/v1/users/records

* Response

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "record": [
        {
          "id": 7,
          "date": 124254454456,
          "type": "follow-up",
          "iconColor": "red",
          "icon": "&#xe613",
          "title": "腰椎康复随访 - 第2次",
          "desc": "优护家医院 综合科"
        },
          {
            "id": 3,
            "date": 3124245341231,
            "type": "self-evaluation",
            "iconColor": "red",
            "icon": "&#xe613",
            "title": "HAMA焦虑自测",
            "desc": "解放军309医院 脊柱外科"
          }

      ]
    }
  }
  ```
#### 4.8获取自评结果
> GET /api/shooter/v1/self-evaluation/result/{evaluationId}

* Response

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "evaluation": {
        "evaluationId": 1,
        "evaluationName":"HAMA焦虑自测",
        "summary":"cxxxxx",
        "question": [
          {
            "questionId": 1,
            "rank": 1,
            "content": "问题的内容?",
            "option": [
              {
                "content": "问题答案"
              }
            ]
         }
        ]
      }
    }
  }
  ```

#### 4.9查看随访详细
> GET /api/shooter/v1/users/follow-up/{followUpId}

* Response

  ```json
  {
    "result": {
      "success": true,
      "code": 0
    },
    "data": {
      "followUp":{  
          "event": {
            "id": 324,
            "title": "李秀丽的二次随访",
            "date": 1475769600000,
            "purpose": "患者生命体征正常，整体状态良好。。。。。。。",
            "status": "未完成",
            "article": [
                {
                    "id": 1,
                    "title": "术后并发症知多少",
                    "read": true
                },
                {
                    "id": 2,
                    "title": "优护家，你值得拥有",
                    "read": false
                }
            ],
            "tool": [
                {
                    "id": 3,
                    "icon": "http://xxx.com/xx",
                    "iconColor": "xxx",
                    "title": "术后第一天的自我检查",
                    "status": "已完成"
                },
                {
                    "id": 3,
                    "icon": "http://xxx.com/xx",
                    "iconColor": "xxx",
                    "title": "术后第一天的自我检查",
                    "status": "没完成"
                }
            ]
        },
        "nurse":[
        {
            "id":1,
            "name":"张畅",
            "avatar":"http://xxx.jpg",
            "title":"护理员",
            "organizationName":"优护家中心医院",
            "departmentName":"综合科",
            "chat":true
          }
        ]
      }
    }
  }
  ```
#### 4.10 发起沟通
> GET /api/shooter/v1/users/im/{fromUserId}/to-nurse/{toNurseId}

* Response

```json
{
  "result": {
      "success": true,
      "code": 0
    },
    "data":{
      "chatInfo":{
        "fromAccount" : {
             "identifier" : "1",
             "signature" : "my-sig",
             "avatarUrl" : "http://img.com/me.jpg",
             "nickname" : "Jason Marz"
         },
         "toAccount": {
             "identifier" : "2",
             "avatarUrl" : "http://img.com/u.jpg",
             "nickname" : "Tom Cruz"
         }
      }
    }
}
```

## proto定义
```proto
//***************************** C-2.0 *******************************************

//----------v2.0---------------

//-------begin register-------
message RegisterOption{
    optional string name = 1;
    optional int64 birthday = 2;
    optional int64 gender = 3;
    optional string phone = 4;
    optional string captcha = 5;
}

message RegisterDTO{
    optional Result result = 1;
    optional Data data = 2;
    message Data {
        optional int64 userId = 1;
        optional string name = 2;
        optional int64 birthday = 3;
        optional int64 gender = 4;
        optional string phone = 5;
        optional string token = 6;
        optional string avatar = 7;
    }
}
//-------end register-------

//----------begin component------------
message Component {
    optional int64 componentId = 1;
    optional string type = 2;
}

//---------begin home ------------
message CHomeLoadDTO {
    message Banner {
        optional int64 id = 1;
        optional string type = 2;
        optional string name = 3;
        optional string brief = 4;
        optional string bannerUrl = 5;
        optional string directUrl = 6;
    }
    message Department {
        optional int64 departmentId = 1;
        optional string departmentName = 2;
        optional int64 organizationId = 3;
        optional string organizationName = 4;
        optional string bannerUrl = 5;
    }
    message Data {
        repeated Banner banner = 1;
        optional Department latestDepartment = 2;
        repeated Component component = 3;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message CHomeFollowedDiseaseDTO {
    message Disease {
        optional int64 diseaseId = 1;
        optional string diseaseName = 2;
        optional string iconColor = 3;
        optional string icon = 4;
    }
    message Data {
        optional string title = 1;
        repeated Disease disease = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message CHomeSelfEvaluationDTO {
    message Group{
        message Evaluation {
            optional int64 evaluationId = 1;
            optional string evaluationName = 2;
            optional string iconColor = 3;
            optional string icon = 4;
        }
        optional int64 departmentId = 1;
        optional string organizationName = 2;
        optional string departmentName = 3;
        repeated Evaluation evaluation = 4;
    }
    message Data {
        optional string title = 1;
        repeated Group evaluationGroup = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message CHomeItemDTO {
    message Group{
        message Item {
            optional int64 itemId = 1;
            optional string title = 2;
            optional int64 price =3;
            optional string desc = 4;
            optional string pic = 5;
        }
        optional string organizationName = 1;
        optional string departmentName = 2;
        optional string departmentNo = 3;
        repeated Item item = 4;
    }
    message Data {
        optional string title = 1;
        repeated Group itemGroup = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}
//----------end home------------

//---------begin department--------
message CDepartmentLoadDTO {
    message Department{
        optional int64 departmentId = 1;
        optional string departmentName = 2;
        optional string departmentNo = 3;
        optional int64 organizationId = 4;
        optional string organizationName = 5;
        optional string bannerUrl = 6;
    }
    message Data {
        optional Department department = 1;
        repeated Component component = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message CDepartmentArticleGroupDTO {
    message ArticleGroup {
        optional int64 articleGroupId = 1;
        optional string articleGroupName = 2;
        optional string iconColor = 3;
        optional string icon = 4;
    }
    message Data {
        optional string title = 1;
        repeated ArticleGroup articleGroup = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message CSelfEvaluationDTO {
    message Evaluation {
        optional int64 evaluationId = 1;
        optional string evaluationName = 2;
        optional string iconColor = 3;
        optional string icon = 4;
    }
    message Data {
        optional string title = 1;
        repeated Evaluation evaluation = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message CDepartmentItemDTO {
    message Item {
        optional int64 itemId = 1;
        optional string title = 2;
        optional int64 price =3;
        optional string desc = 4;
        optional string pic = 5;
    }
    message Data {
        optional string title = 1;
        repeated Item item = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message CRecommendedDTO {
    message Recommendation{
        optional int64 articleId = 1;
        optional string name = 2;
        optional string brief = 3;
        optional string bannerUrl = 4;
        optional bool read = 5;
    }
    message Data {
        optional string title = 1;
        optional Recommendation recommended = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}
//---------end department--------
//----------end component------------


//---------begin article --------
message ArticleListDTO {
    message Article {
        optional int64 articleId = 1;
        optional string name = 2;
        optional string brief = 3;
        optional string bannerUrl = 6;
    }
    message Data {
        repeated Article article = 1;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message ArticleDTO {
    message Article {
        optional int64 articleId = 1;
        optional string name = 2;
        optional string brief = 3;
        optional string author = 4;
        optional string content = 5;
        optional string bannerUrl = 6;
        optional int64 categoryId = 7;
        optional string categoryName = 8;
        optional int64 likeCount = 9;
        optional bool liked = 10;
        optional bool favored = 11;
        optional bool read = 12;
    }
    message Data {
        optional Article article = 1;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message ArticleOperateOption {
    optional string type = 1;
}
//---------end article --------

//--------begin user-------------
message FollowedDepartmentDTO {
    message Suggest{
        optional int64 id = 1;
        optional string type = 2;
        optional string iconColor = 3;
        optional string icon = 4;
        optional string title = 5;
    }
    message Department{
        optional int64 departmentId = 1;
        optional string departmentName = 2;
        optional string departmentNo = 3;
        optional int64 organizationId = 4;
        optional string organizationName = 5;
        optional string bannerUrl = 6;
        optional Suggest suggest = 7;
    }
    message Data {
        optional int64 latest = 1;
        repeated Department department = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message UserDTO{
    message Data {
        optional int64 userId = 1;
        optional string userName = 2;
        optional string avatar = 3;
        optional int64 gender = 4;
        optional int64 age = 5;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message FollowedDiseaseDTO {
    message Disease {
        optional int64 diseaseId = 1;
        optional string diseaseName = 2;
        optional string iconColor = 3;
        optional string icon = 4;
    }
    message Data {
        optional string title = 1;
        repeated Disease disease = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message FollowedDiseaseOption {
    repeated int64 disease = 1;
}

message OrderListDTO {
    message Item{
        optional string title = 1;
        optional int64 price =2;
        optional string pic = 3;
        optional int64 period = 4;
        optional string desc = 5;
        optional string serviceDetail = 6;
    }
    message Order {
        optional int64 orderId = 1;
        optional string orderNo = 2;
        optional int64 createTime = 3;
        optional string organizationName = 4;
        optional string departmentName = 5;
        optional string departmentNo = 6;
        optional Item item = 7;
        optional UserAddress patient = 8;
        optional OrderStatus status = 9;
    }
    optional Result result = 1;
    repeated Order order = 2;
}

message RecordListDTO {
    message Record {
        optional int64 id = 1;
        optional int64 date = 2;
        optional string type = 3;
        optional string title = 4;
        optional string desc = 5;
        optional string status = 6;
    }
    message Data {
        repeated Record record = 1;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message FollowUpDTO {
    message Event {
        optional int64 id = 1;
        optional string title = 2;
        optional int64 date = 3;
        optional string purpose = 4;
        optional string status = 5;
        message Article {
            optional int64 id = 1;
            optional string title = 2;
            optional bool read = 3;
        }
        message Tool {
            optional int64 id = 1;
            optional string title = 2;
            optional string iconColor = 3;
            optional string icon = 4;
            optional string status = 5;
        }
        repeated Article article = 6;
        repeated Tool tool = 7;
    }
    message Nurse {
        optional int64 nurseId = 1;
        optional string name = 2;
        optional string avatar = 3;
        optional string title = 4;
        optional string departmentName = 5;
        optional string organizationName = 6;
        optional bool chat = 7;
    }
    message Data {
        optional Event event = 1;
        optional Nurse nurse = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}

message ChatDTO {
    message ChatAccount {
        optional string identifier = 1;
        optional string signature = 2;
        optional string avatarUrl = 3;
        optional string nickname = 4;
    }
    message Data {
        optional ChatAccount fromAccount = 1;
        optional ChatAccount toAccount = 2;
    }
    optional Result result = 1;
    optional Data data = 2;
}
//------------end user----------

//-----------begin disease-----------
message DiseaseDTO {
    message Disease {
        optional int64 diseaseId = 1;
        optional string diseaseName = 2;
        optional bool choosed = 3;
    }
    message DiseaseGroup {
        optional string groupName = 1;
        repeated Disease disease = 2;
    }
    message Data {
        repeated DiseaseGroup diseaseGroup = 1;
    }
    optional Result result = 1;
    optional Data data = 2;
}
//-----------end disease-----------

//-----------begin self-evaluation -----------
message SelfEvaluationDTO {
    message SingleChoice{
        message Answer {
            optional int64 order = 1;
            optional string content = 2;
        }
        optional int64 order = 1;
        optional string question = 2;
        optional string desc = 3;
        optional string descUrl = 4;
        repeated Answer answer = 5;
    }
    message MultiChoice{
        message Answer {
            optional int64 order = 1;
            optional string content = 2;
        }
        optional int64 order = 1;
        optional string question = 2;
        optional string desc = 3;
        optional string descUrl = 4;
        repeated Answer answer = 5;
    }
    message SingleChoiceMatrix{
        message InnerQuestion {
            optional int64 order = 1;
            optional string question = 2;
        }
        optional int64 order = 1;
        optional string question = 2;
        optional string desc = 3;
        optional string descUrl = 4;
        repeated string choice = 5;
        repeated InnerQuestion innerQuestion = 6;
    }
    message Completion{
        optional int64 order = 1;
        optional string question = 2;
        optional string format = 3;//"血压:${BLANK} mmHg；血糖:${BLANK} mmol/L;您的意见:${BLANK}"
    }
    optional Result result = 1;
    optional Data data = 2;

    message Data {
        optional int64 evaluationId = 1;
        optional string evaluationName = 2;
        repeated SingleChoice singleChoice = 3;
        repeated MultiChoice multiChoice = 4;
        repeated SingleChoiceMatrix singleChoiceMatrix = 5;
        repeated Completion completion = 6;
    }
}
message Evaluation {
    optional int64 evaluationId = 1;
    optional string evaluationName = 2;
    optional string iconColor = 3;
    optional string icon = 4;
    optional string summary = 5;
    repeated Question question = 6;
}
message Question {
    optional int64 questionId = 1;
    optional int64 rank = 2;
    optional string content = 3;
    optional string type = 4;
    optional bool required = 5;
    repeated Question option = 6;
}

message SelfEvaluationOption {
    repeated QuestionOption question = 1;
    message QuestionOption {
        optional int64 questionId = 1;
        repeated Option option = 2;
        message Option{
            optional string content = 1;
        }
    }
}
//-----------begin self-evaluation -----------

message NurseListDTO {
    message Nurse {
        optional int64 nurseId = 1;
        optional string name = 2;
        optional string avatar = 3;
    }
    message Data {
        repeated Nurse nurse = 1;
    }
    optional Result result = 1;
    optional Data data = 2;
}


```
## Shooter 开发排期

| 内容               | 时间   | 开发者  |
| ---------------- | ---- | ---- |
| C 端患者登录注册相关接口    | 1    | 袁鑫   |
| C 端患者信息          | 1    | 袁鑫   |
| C 端文章相关接口        | 1    | 袁鑫   |
| C 端患者收藏、阅读文章相关接口 | 1    | 袁鑫   |
| C 端评估相关接口        | 1    | 袁鑫   |
| C 端科室配置相关接口      | 1    | 袁鑫   |
| C 端个人中心康复记录接口    | 1    | 袁鑫   |
| C 端个人中心其他接口      | 1    | 袁鑫   |
