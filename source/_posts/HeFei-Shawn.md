---
title: 【合肥项目】运维及Yolar&Era重构相关总结
date: 2017-1-6 12:00:00
categories: 合肥
tags:
- Order, Dagon, 上线，运维
---

## 摘要

1. Dagon & Owl 的模型设计、数据库设计以及API设计
2. Owl状态机的实现机以及Dagon部分代码。
3. Yolar & Era 重构
4. staging 环境准备
5. 上线

<!--more-->
## WIKI维护人
田学文

## 流程回顾

Owl 以及 Dagon 部分不在赘述，主要列出 Yolar 及 Era重构部分；实现环境准备；上线内容

**Yolar & Era 重构**

内容|内容详情|人日
---|---|---
Era | 1. tag 相关重构 <br> 2. exception 部分重构 <br> 3. 部分API 重构 | 2
Yolar | 1. tag 相关重构 <br> 2. exception 部分重构 <br>  | 2

**Staging环境准备**

内容|内容详情|人日
---|---|---
服务器准备|ECS 环境准备 | 1
代码部署| 代码环境准备 |1
公众号| 公众好准备及相关环境准备 |1

**上线**

内容|内容详情|人日
---|---|---
服务器准备|ECS升级 <br> 环境准备 | 1
代码部署| 代码环境准备 |1
上线 | 上线代码 |1


## 总结
### 项目总结：流程中暴露的问题

1. 前期设计不够充分、细致，导致代码实现的时候出现很多问题，又回头重新设计。

    比如退款的流程，最开始设计时只有一次退款，实现的时候发现比如实现多次退款，以及每次退款的状态追踪。

2. 发现以前实现 Era & Yolar 的时候很多细节及API设计欠考虑，给后来的维护和升级带来很大困扰

    尤其是原来的 Tag 相关的接口设计偏业务，后续复用的时候发现很难用。


### 个人总结

1. 前期详情的规划多一分，后期代码实现会快三分，所谓磨刀不误砍柴工
2. BO 模型比较好用，后续会按照这个模型来开发
3. 泛型及反射一定要早早学，会给代码实现带来极大的便利和设计的灵活性
