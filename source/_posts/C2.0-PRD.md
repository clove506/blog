---
title: C端2.0总设计概览
date: 2017-4-11 10:40:00
categories: C++
tags:
- 优护家公众号
---

# 总览

## 背景

一个主题：

知识内容串联。

就产品上负责：

- C端2.0。基于疾病触达用户，分级诊疗多机构改造。
- 万家科室。知识模板化，支持快速创建科室，同时打造优护家内容库，支持未来快速输出内容。
- 优护家「百科全书」（碳硅）计划。围绕康复护理主题，梳理数据分类，并打通自测，评估等各类内容。

<!-- more -->
### 百科全书计划

工程核心解决的是内容沉淀入库以及对外查询接口。

- 优护家知识内容编辑入库的时候需要选择类别。这里提供统一的查询搜索接口。

#### 内容沉淀入库

信息分类的存储分为三个部分：

- 数据分类的定义。
- 数据层级关系。
- 用户真实数据存储。

#### 数据分类定义

分类的定义主要落实的是将卢欣整理的分类信息落实入库。

这部分因为一次性入库，对外不提供增改接口，直接产出数据库备份文件或者入库文件，上线一次性插入即可。

#### 层级关系

层级关系的存储利用的是 Tag 系统，Tag 系统针对分类信息制定了专用 Tag 类型用于区分。这部分因为涉及外部接口，需要准备接口数据或者数据库更新SQL。这里决定直接落库。

#### 用户真实数据存储

这部分数据需要直接落库存储，本期不对外提供产品展示，接口上保留用户存储接口即可。

底层应用 Hibernation

### 万家科室

万家科室项目是优护家内容数据模型升级的一次尝试，其解决的问题是打破各内容之间的壁垒，方便各个场景的灵活应用。

详细来说，其解决的问题有如下几个方面：

- 优护家官方内容和普通机构内容区分。
- 知识内容的展示分类体系。例如内外妇儿的分类，参考C端的疾病关注的分类。
- 知识内容同百科全书计划的打通。又分为：
    - 沉淀用户健康数据。
    - 评估模型升级，支持评估内容的复用，快速生成和收集数据的快速查看分析。
- 开通新机构和科室的流程升级。
- 默认UI配置。例如默认ICON配置等。

从工程上分为如下几个方面：

- 知识内容（宣教，自测，评估）的产出并沉淀。
- 优护家内容模型落地，支持内容的复用。直观感受是新科室内容的快速生成。
- 评估模型落地。支持评估量表快速组合生成评估，未来支持评估编辑器，支持多题型和题型跳转逻辑等。
- 访客科室逻辑升级。支持访客科室和线上科室对内容管理的不同要求。（建议访客科室不能支持的接口全部返回统一报错，提示升级开通管理权限。）

#### 知识内容产品并沉淀

张跃超（SM）已经启动项目推动。核心工程问题：

- 内容的产出。文章、自测和评测各10+篇。
- 内容的入库。文章编辑器支撑，文章入库，自测和评估量表入库，以及再这之上的评估生成及入库。


#### 优护家内容模型落地

核心工程问题：

- 如何区分优护家内容和用户自建内容。
- 如何对内容做分类管理。
- 如何支持各场景查询。

##### 内容区分

优护家的内容产出和普通科室的产出并没有本质区别，这里打算新建一个优护家内容机构和科室。将所有官方内容全部放入该科室。注意该科室不对外暴露。

内容区分利用优护家的ID区别即可。

优护家的知识内容直接挂在百科全书的某个节点。该节点在内容管理中是不对外暴露的。

文章内容的创建优护家官方和非官方机构创建并无不同。

优护家的内容的创建人是优护家的官方账号并且优护家的分类信息是「百科全书」中的节点。

非优护家的内容的创建人是其自身账号且分类信息是其自建分类。

工程上需要Tag系统支持：

- 对优护家知识内容支持打百科节点且创建人必须为官方账号。
- 优护家的知识内容支持分类管理。该分类关联百科全书的节点，Web管理端渲染需要获取真实百科全书节点下的全部内容。注：C端用户在查询疾病时候的分类可以和这里采用同一个分类。
- 支持用户自己内容的分类管理（Tag），目前只开放一级。开通科室管理权限后提供默认分类。默认分类不允许删除。


##### 内容分类管理

内容分类关联尽可能对前端透明，目前打算推出两个应用后台。

##### 内容的各场景查询

现在想到的场景有：

- Web端。Web端的只有普通科室内容。Web端封装后台应用来处理权限问题。
- C端。需要注意该科室是否开通管理权限。不同的权限走不同的查询分支。
- B端。需要注意该科室是否开通管理权限。不同的权限走不同的查询分支。

##### 访客科室逻辑升级

逻辑上原访客科室的逻辑不用发生变化。

需要新添加的是：

- 对评估内容的迁移。
- 新申请开通管理权限逻辑。
- Web端统一登录及授权逻辑。

### C端2.0

从产品上细分，有如下类型的内容：

- 用户关注疾病的内容。
- 用户所在科室内容。
- 用户各科室评估等工单内容。


## 详细设计

基于上述产品的拆分，工程上需要如下应用来承载

- Civilization-知识内容的底层应用
- Hibernation-知识百科应用
- 科室管理后台&优护家内容后台管理
- C端管理后台
- 一次性脚本支撑


### Civilization-知识内容应用（Service层）

支持功能如下：

- 知识内容的增删改查上线下线。其中查只依托创建信息。
- 创建普通科室内容分类。
- 创建优护家内容分类。
- 根据「百科全书」节点进行内容查询。
- 根据优护家内容分类和普通科室分类查询内容。
- 给内容添加/去除分类信息。
- 文章的阅读/收藏/喜欢
- 量表相关接口。
- 自测和评估的生成接口。


### Hibernation-知识百科应用（Service层）

支持功能如下：

- 用户百科知识写入。

### 科室管理后台 & 优护家内容后台管理 （App&Service层）

运营角度出发，一个后台。

支持功能如下：

- 迁移原Yolar中科室信息。
- 科室类别（内外妇儿）的生成和管理。（类别是Tag，给科室分类即打Tag）
- 给科室开通后台管理员权限。
- 给科室开通服务权限。
- 科室UI管理。
- 提供科室信息的查询。


### C端管理后台


### 一次性脚本支撑

- 百科节点的信息入库。
- 百科层级关系直接入库。需要定义Tag的类型和各种Properties。

### ODPS离线Redis数据导入

## TODO

- 访客科室和万家科室逻辑。

# 设计概览

C端2.0改版整体部分会涉及到以下几个项目：

1. Era 处理所有和人（Nurse, User, Admin）、组织（Organization）、机构（Department) 相关的业务；
2. Yolar 为 Era 提供底层的服务、基本接口及数据存储；
3. Solar 承载组织（Organization）和机构（Department）的内容及相关接口；
4. Gamma 作为 Department 的业务承载项目，提供业务接口；
5. Shooter 作为 C 端业务接口的胶水层，提供面向页面的接口, 包括知识库业务组织，提供面向页面的接口；
6. Civilization 知识库底层服务，提供文章和评估的基本服务接口；
7. Hibernation 自然人数据中心，目前只提供数据录入基本服务接口。

底层需要的服务 Tag System

## 1. 文章

### 业务（Shooter 项目）

| API 调用者 | 名称                   |
| ------- | -------------------- |
| 患者      | 阅读某个文章               |
|         | 收藏某个文章               |
|         | 某个文章有用               |
|         | 查询：我读过的文章            |
|         | 查询：通用疾病树查询文章(BigEye) |


### 底层服务（Civilization 项目）
| 序号   | API 名称            |
| ---- | ----------------- |
|      | 创建、更新、获取、删除文章     |
|      | 创建、更新文章分类树        |
|      | 更新文章关联的疾病树 Tag    |
|      | 更新、删除文章关联的分类树 Tag |
|      | 通过疾病树 Tag 查询文章    |
|      | 通过分类树 Tag 查询文章    |
|      | 更新、查询患者和文章关系      |


## 2. 患者自测 & 护士评估
### 业务（Shooter 项目）

术语说明：
- `评估`是「患者自评」和「护士评估」的集合；
- `患者自评`是患者自己做的评估；
- `护士评估`是护士给患者的评估。

| API 调用者 | 名称         |
| ------- | ---------- |
| 患者      | 通过科室查询自评列表 |
|         | 查看自评内容     |
|         | 做自评，提交内容   |
|         | 查看自评结果     |
|         | 查看患者自评历史   |

### 底层服务（Civilization 项目）
| 序号      | API 名称                             |
| ------- | ---------------------------------- |
| 文章基本操作  | 创建、更新、获取、删除题目                      |
|         | 创建、更新、获取、删除题组                      |
|         | 创建、更新、获取、删除评估                      |
| 疾病关联管理  | 更新题组关联的疾病树 Tag                     |
|         | 通过疾病树 Tag 查询题组                     |
| 分类树关联管理 | 更新、删除题组关联的分类树 Tag                  |
|         | 通过分类树 Tag 查询评估                     |
|         | 题组关联疾病树  Tag                       |
|         | 根据疾病树查询题组                          |
|         | 提交患者自评记录                           |
|         | 提交护士评估记录                           |
|         | 查看评估记录（需要评估类型参数以区分是患者自评合适护士评估）     |
|         | 评论评估记录                             |
|         | 查询评估记录（参数：患者ID，科室ID，评估类型，分页参数，时间段） |

## 3. 自然人
### 业务
无

### 底层服务
| 序号   | API 名称    |
| ---- | --------- |
|      | 批量写入自然人数据 |

## 4. 组织(Organization) & 机构(Department)  底层服务

### 底层服务 （Solar 项目）
| 序号   | API 名称     |
| ---- | ---------- |
|      | 创建科室       |
|      | 更新科室       |
|      | 更新科室 UI 配置 |
|      | 科室关联疾病     |
|      | 查询科室相关疾病   |
|      | 复制科室 UI 配置 |
|      | 复制科室疾病关联配置 |

# 上线流程

## 0. 关闭所有服务

按照 gateway、其他项目的顺序关闭

## 1. 备份数据

备份所有数据库

- yolar_production
- dagon_production
- kangfubao
- mentalseal_production
- owl_production
- singer_production
- sophon_production


## 2. 创建数据库

- hdfragment_production
- civilization_production
- hibernation_production
- nsk_production
- solar_production

## 3. 更新 config-repo 配置

**注意**

配置里的 application.name, port. 上线 production 时对比 staging 环境，除了关键参数不同外其他保持一致，并注意将 SQL log 关掉。

- hdfragment_production
- civilization_production
- hibernation_production
- nsk_production
- solar_production
- gateway_production
- difoil_production
- yolar_production
- gravitation_production


## 4. 手动迁移数据

- yolar 中的 area、department、organization 三张表复制到 `solar_production`

- 在 `solar_production` 将 department.status 字段更改为1:

  ```SQL
  update `department` set status = 1;
  ```

- 将 organization.status 字段更改为 1：

  ```SQL
  update `organization` set status = 1;
  ```

## 5. 启动 Yolar、Solar 项目

**Yolar**

Yolar 项目中部分表做了改动，需要修改 db 中的 migration checksum。需要将数据库 schema_version 表中的 checksum 和 项目启动时计算出的 checksum 保持一致。期间需要再本地重启 yolar 多次。

**Solar**

同样的，solar 也需要做同样的操作。

## 6. 导入数据 Magic Era

* hdfragment
* solar
* civilication
* hibernation


其中：

- 更新 solar 的 img_url
- yolar 中的 nurse 和 user 表需要更新，运行 magic_era 项目中的 yolar 脚本

## 7. 将项目从 develop 分支 merge 到 staging/master 分支

新项目

- hdfragment
- solar
- civilication
- gravitation
- hibernation
- nsk
- painter

老项目

* era
* yolar
* galaxy
* singer
* dagon
* momentum
* meta-data
* sophon
* di-foil




## 8. 微信公众号设置

1. 修改「支付路径」配置：
   pub.zhushou.youhujia.com/service/order/detail/
2. 修改公众号的菜单，「优护助手」=> 「我的健康」



# 项目日报

### 2017年4月14日

| 项目           | PM   | 今日                                       | 明日计划                   | 进度说明                 | 风险点                                      |
| ------------ | ---- | ---------------------------------------- | ---------------------- | -------------------- | ---------------------------------------- |
| Shooter      | 袁鑫   | 完成首页信息接口，患者注册、个人信息等接口                    | 代码完成度80%，完成登录注册外的接口    | 依赖其他模块接口，导致部分被 block | 有被Civilization、Solar接口block，期待明天Civilization、Solar的接口出来后的顺利开发 |
| Civilization | 卢江   | 1. Civilization 量表和疾病关系 & 文章和节点关系录入 & 评估和节点关联关系录入 <br/> 2. 完成Option和DTO结构定义和接口定义 | review Option和DTO结构和接口 |                      | 由于宣教（分组信息）、评估（分组信息）、自测（分组信息）需要脚本录入，数据模板现未定义，脚本未实现 |
| Solar        | 李江明  | 完成虚拟科室、虚拟疾病以及百科节点内容的配置脚本                 | 有关万家科室的接口review        |                      |                                          |
| BigEye       | 袁鑫   | 搁置，内容和其他项目有重叠                            |                        |                      |                                          |
| Yolar拆分      | 田学文  | 1. 完成 Civilization 量表录入脚步 <br/> 2. 评估Yolar拆分 科室相关及删除 Person 表的相关接口影响 | 删除 Person 表            | 录入的脚步花了很长时间          | Person 表业务比较复杂                           |

### 2017年4月15日

| 项目           | PM     | 今日                                     | 明日计划                                     | 进度说明 | 风险点                                      |
| ------------ | ------ | -------------------------------------- | ---------------------------------------- | ---- | ---------------------------------------- |
| Shooter      | 袁鑫     | 今日被Block 完成度较低。主要完成文章、随访、自测等接口         |                                          |      |                                          |
| Civilization | 卢江     | Review Civilizatio的Option和DTO结构定义和接口定义 | 1. 完成 Halo中Civilization接口、Option和DTO结构定义 |      | 由于宣教（分组信息）、评估（分组信息）、自测（分组信息）需要脚本录入，数据模板现未定义，脚本未实现 |
| Solar        | 李江明&黄英 | review了万家科室的部分接口；和晨哥讨论并确定了UI配置树的实现方案   | 预计完成万家科室全部接口的设计，并写入halo                  | 正常   | -                                        |
|              |        |                                        |                                          |      |                                          |
| Yolar拆分      | 田学文    | 1.  Era & Yolar 重构 PRD初步完成             | 细化 PRD至接口                                | 正常   | Person 表业务比较复杂，需要仔细评估是否有坑                |

### 2017年4月17日

| 项目               | PM     | 今日                                       | 明日计划                                     | 进度说明 | 风险点  |
| ---------------- | ------ | ---------------------------------------- | ---------------------------------------- | ---- | ---- |
| Shooter          | 袁鑫     | 完成康复中心接口，完善文章、自测、首页等接口                   | 完成首页，用户相关等接口，代码完成度大概至90%                 | 90%  |      |
| Civilization     | 卢江     | 1. Review Civilizatio的Option和DTO结构定义和接口定义 2. 和Shooter应用SignOff Civilization接口和protobuf结构 3. 完成halo接口封装 4. 初始化Civilization接口 | 1. 完成 Civilization Article中的宣教详情、宣教列表、宣教互动、宣教用户互动、科室下的宣教列表和增加宣教接口 |      |      |
| Solar            | 李江明&黄英 | 完成了solar接口设计和protobuf数据定义；接口全部写入到halo；yolar中有关organization和department相关的接口都迁移到了solar; yolar_dev数据库的area,department和organization表数据全部迁移到了solar_dev库 |                                          |      | -    |
|                  |        |                                          |                                          |      |      |
| Yolar & Era 超级重构 | 田学文    | 1.  Era & Yolar 重构 接口完成                  | 希望能写完代码！gogogo！                          |      |      |

### 2017年4月20日

| 项目               | PM     | 今日                                       | 明日计划                       | 进度说明 | 风险点                                      |
| ---------------- | ------ | ---------------------------------------- | -------------------------- | ---- | ---------------------------------------- |
| Shooter          | 袁鑫     | 完成关注科室、登录、注册等逻辑及相关接口，完成shooter代码。        | 协助完成Yolar接口，开始测试           |      |                                          |
| Civilization     | 卢江     | 宣教相关的宣教详情、宣教列表、宣教互动、宣教用户互动、科室下的宣教列表、增加宣教接口完成， | 完成剩下工具相关的评估和自测详情、评估和自测结果接口 |      | question表被合并，原先实现方案需要重新设计，评估和自测接口字段逻辑较为复杂，比较费时 |
| Solar            | 李江明&黄英 | 整理UI配置树的数据                               |                            |      | -UI配置树的存储结构可能和之前理解的存在偏差，如果确实存在理解偏差，代码可能要改动。明天计划：整理UI配置树的数据，明确UI配置树的存储结构，并对接口进行修改@李江明@黄英 |
| Yolar & Era 超级重构 | 田学文    | 完成护士基本接口和护士状态转移部分接口                      | 完成护士状态转移部分接口               |      |                                          |

### 2017年4月21日

| 项目               | PM     | 今日                                       | 明日计划                                     | 进度说明 | 风险点                      |
| ---------------- | ------ | ---------------------------------------- | ---------------------------------------- | ---- | ------------------------ |
| Shooter          | 袁鑫     | 协助完成Yolar登录接口，修改gateway、dna、dimension等项目 | 在Civilization和yolar等相关项目完成后，开始自测。并填其他项目的坑 |      |                          |
| Civilization     | 卢江     | 工具相关的评估和自测详情、评估和自测结果接口完成度80%             | 完成剩下工具相关的评估和自测详情、评估和自测结果接口及开始自测          |      | 评估相关接口复杂度较高，原先实现方案需要重新设计 |
| Solar            | 李江明&黄英 | 确定UI数据在数据库中存储格式，solar关于ui组件的接口修改以及curvature关于tag的相关接口修改，落实了需要入库的数据的整理。 | 继续修改curvature                            |      |                          |
| Yolar & Era 超级重构 | 田学文    | 1. 完成 Yolar 的护士和患者接口。2. 赵蔺、圣阳一起重构依赖Yolar接口的项目。3.  相关除登录接口外基本 CC | 1. Yolar 相关接口自测 2. 检查是否还有依赖 yolar 接口和登录的地方是否需要重构 3. 完成 Gravitation 项目中关于Solar 的接口 |      |                          |





### 2017年4月22日

| 项目               | PM   | 今日                                       | 明日计划                | 进度说明 | 风险点                         |
| ---------------- | ---- | ---------------------------------------- | ------------------- | ---- | --------------------------- |
| Shooter          | 袁鑫   | 底层依赖不是很通顺，联调进度缓慢，Shooter联调测试进度35%。       | 完成Shooter的联调测试      |      |                             |
| Civilization     | 卢江   | 宣教相关的宣教详情、宣教列表、宣教互动、宣教用户互动、科室下的宣教列表、增加宣教接口测试完成， | 测试工具相关的自测详情、自测结果接口  |      | 评估接口目前还没完成，计划自测接口测试通过后再code |
| Solar            | 李江明  | curvatureDrive关联tag的接口，修改完成，待测试；完成Dagon中批量获取商品的接口，已测试；接手gravitation业务； | 所有接口完成测试            |      |                             |
| Solar            | 黄英   | 对数据录入进一步进行了落实，确定了文章和模版科室的关联，以及文章录入的结构，脚本进行了修改 | 完成相关文章的入库，以及模版科室的入库 |      |                             |
| Yolar & Era 超级重构 | 田学文  | 1. 部分 Yolar 接口自测 2. Yolar 表结构迁移后数据迁移     | yolar 所有接口完成自测      |      |                             |



### 2017年4月23日

| 项目               | PM   | 今日                                       | 明日计划                                     | 进度说明 | 风险点  |
| ---------------- | ---- | ---------------------------------------- | ---------------------------------------- | ---- | ---- |
| Shooter          | 袁鑫   | 测试统一登录接口及新改的微信登录接口，简单mock测试shooter。期待明天依赖接口通畅，顺利测试。 | 完成shooter的后端内部联调测试                       |      |      |
| Civilization     | 卢江   | 工具相关的批量获取自测、获取科室下的自测、获取自测疾病结构、自测列表接口测试完毕，自测详情接口基本完成， | 工具相关的批量获取自测、获取科室下的自测、获取自测疾病结构、自测列表接口测试完毕，自测详情接口基本完成， |      |      |
| Solar            | 李江明  | curvatureDrive和tag相关的接口测试完成，grivatation接口开发完毕，测试完成20%；gravitation获取所有机构和科室的接口，因为数据过多，响应时间过长，需要优化； | 完成grivatation测试，query优化等                 |      |      |
| Solar            | 黄英   | -                                        | -                                        |      |      |
| Yolar & Era 超级重构 | 田学文  | yolar 所有除影子公众号外的接口的测试                    | 调用 yolar 的相关项目的接口测试                      |      |      |



### 2017年4月24日

| 项目               | PM   | 今日                                       | 明日计划                       | 进度说明 | 风险点  |
| ---------------- | ---- | ---------------------------------------- | -------------------------- | ---- | ---- |
| Shooter          | 袁鑫   | 在今日不懈努力下，完成了Shooter的所有接口测试。              | 对Shooter各接口边界值问题测试，开始前后端联调 |      |      |
| Civilization     | 卢江   | Civilization 自测部分测试                      |                            |      |      |
| Solar            | 李江明  | gravitation获取所有机构和科室的接口改变实现方案，采用分页的形式返回数据，已测试；gravitation所有接口已经测试；dagon中所有关于tag系统的接口测试完毕； | 和后端同学们联调，测试                |      |      |
| Solar            | 黄英   | 确定了模版科室的的数据，并将其创建入dev数据库，修改了百科节点相关数据，并将百科节点的tag层级关系数据录入dev数据库 | 确定的数据落入dev数据库              |      |      |
| Yolar & Era 超级重构 | 田学文  | 配合测试部分 Yolar 接口                          | 协助完成 Civilization 测试。      |      |      |



### 2017年4月25日

| 项目               | PM   | 今日                                       | 明日计划                                  | 进度说明 | 风险点  |
| ---------------- | ---- | ---------------------------------------- | ------------------------------------- | ---- | ---- |
| Shooter          | 袁鑫   | 完成Shooter 测试，Shooter各接口边界值问题测试，          | 前后端联调                                 |      |      |
| Civilization     | 卢江   | 完成工具相关的评估详情、批量查询评估、获取科室下评估列表、获取疾病分组信息的评估列表、提交评估、获取评估结果及内部测试 | 前后端联调                                 |      |      |
| Solar            | 李江明  | solar、gravitation、dagon、curvatureDriver等服务的接口都测试完毕，在测试过程中，对代码做了一些重构和优化； | 为evans服务添加url的访问权限控制、协助其他同学测试 & 前后端联调 |      |      |
| Solar            | 黄英   | -                                        | -                                     |      |      |
| Yolar & Era 超级重构 | 田学文  | 协助完成 Civilization 测试                     | 前后端联调                                 |      |      |



### 2017年4月26日

| 项目               | PM   | 今日                                       | 明日计划              | 进度说明 | 风险点          |
| ---------------- | ---- | ---------------------------------------- | ----------------- | ---- | ------------ |
| Shooter          | 袁鑫   | 前后端接口联调基本完成（除登陆，注册，随访中工具和文章由于数据原因没有测）    | 完成联调的其他接口；        |      |              |
| Civilization     | 卢江   | 修改根据疾病获取科室下文章列表接口、修改自测和评估自测详情接口的格式化填空题、修改评估和自测提交接口映射逻辑 | 测试Yolar上层相关应用相关接口 |      |              |
| Solar            | 李江明  | 完成了evans request url访问权限的控制。帮忙整理了评估和自测的数据 | 测试Yolar上层相关应用相关接口 |      |              |
| Solar            | 黄英   |                                          |                   |      |              |
| Yolar & Era 超级重构 | 田学文  | 1. 联调，测试使用 yolar 的周边项目。2. 科室数据迁移         | era项目重构           |      | era 需要兼容老的接口 |

### 2017年4月27日

| 项目               | PM   | 今日                                       | 明日计划                                    | 进度说明 | 风险点  |
| ---------------- | ---- | ---------------------------------------- | --------------------------------------- | ---- | ---- |
| Shooter          | 袁鑫   | 在擎祖同学不懈努力下，一同测试完了本次改版的所有新接口。             | 回归测试订单服务等相关接口；  旧文章兼容；  老科室页面逻辑处理和回归测试； |      |      |
| Civilization     | 卢江   | 测试Sophon、Redcoast、hufmation相关的调用yolar接口，辅助C端测试，增加文章和评估、自测三个接口， | 完成文章和评估、自测三个接口测试                        |      |      |
| Solar            | 李江明  | 测试服务:metadata,momentum,sophon,redcoast,huformation, |                                         |      |      |
| Solar            | 黄英   | 修改了百科节点、文章、量表以及其关联的相关数据，录入了虚拟疾病，         | 录入虚拟疾病和百科节点的关联数据和UI组件数据                 |      |      |
| Yolar & Era 超级重构 | 田学文  | era项目重构，包括护士接口，B端的患者接口                   | 完成 era 的测试                              |      |      |



### 2017年4月28日

| 项目               | PM   | 今日                                     | 明日计划       | 进度说明 | 风险点  |
| ---------------- | ---- | -------------------------------------- | ---------- | ---- | ---- |
| Shooter          | 袁鑫   |                                        |            |      |      |
| Civilization     | 卢江   | 测试 根据科室Id获取科室下虚拟疾病的文章和评估、自测三个接口，辅助C端测试 | 收拾行囊，奔向母校~ |      |      |
| Solar            | 李江明  | 修改了获取科室ui组件实现方法，测试通过，已上dev             |            |      |      |
| Solar            | 黄英   | 文章组、评估自测组、虚拟疾病、ui配置的自测组件已经落入dev库，      |            |      |      |
| Yolar & Era 超级重构 | 田学文  | 完成 era 的部分测试                           |            |      |      |



### 2017年5月2日

| 项目        | PM   | 今日                      | 明日计划 | 进度说明 | 风险点  |
| --------- | ---- | ----------------------- | ---- | ---- | ---- |
| Era 兼容老版本 | 田学文  | 患者详情页排版问题               |      |      |      |
|           |      | 患者推送页 API 异常（cms 接口500） |      |      |      |
|           |      | 同事页面异常，排除接口问题，需要客户端一起协查 |      |      |      |



### 2017年5月3日

| 项目        | PM   | 今日       | 明日计划 | 进度说明 | 风险点  |
| --------- | ---- | -------- | ---- | ---- | ---- |
| Era 兼容老版本 | 田学文  | 完成所有接口兼容 |      |      |      |



### 2017年5月4日

| 项目   | PM   | 今日                                       | 明日计划          | 进度说明 | 风险点  |
| ---- | ---- | ---------------------------------------- | ------------- | ---- | ---- |
| C端   | 田学文  | 修复 bug，包括 Civilization 提交评估接口 bug、Yolar跟护士更新相关 bug、Era 中 tag 相关 bug，增加 Galaxy 的/api/departments 接口 等 | 修复 Submit bug |      |      |

### 2017年5月5日

| 项目   | PM   | 今日        | 明日计划         | 进度说明 | 风险点  |
| ---- | ---- | --------- | ------------ | ---- | ---- |
| C端   | 田学文  | 修复 C端 bug | 上 staging 环境 |      |      |

### 2017年5月6日

| 项目   | PM   | 今日                                       | 明日计划 | 进度说明 | 风险点  |
| ---- | ---- | ---------------------------------------- | ---- | ---- | ---- |
| C端   | 田学文  | 修复 solar 中 Status 重复配置的冲突                |      |      |      |
|      |      | 修复个人中心中健康记录的 bug                         |      |      |      |
|      |      | 修复 user_department 中有 department_id =0 的 bug |      |      |      |
|      |      | 准备、staging 环境，撰写上线文档，准备数据库               |      |      |      |



### 2017年5月8日

| 项目   | PM   | 今日                       | 明日计划 | 进度说明 | 风险点  |
| ---- | ---- | ------------------------ | ---- | ---- | ---- |
| C端   | 田学文  | 所有新项目和有更新的项目上 release 环境 |      |      |      |

### 2017年5月9日

| 项目   | PM   | 今日                   | 明日计划 | 进度说明 | 风险点  |
| ---- | ---- | -------------------- | ---- | ---- | ---- |
| C端   | 田学文  | 解决 staging 环境出现的 bug |      |      |      |



### 2017年5月10日

| 项目   | PM   | 今日                                       | 明日计划            | 进度说明 | 风险点  |
| ---- | ---- | ---------------------------------------- | --------------- | ---- | ---- |
| C端   | 田学文  | staging 环境 功能性 bug 基本处理完毕，剩余一些加载缓慢、请求时间长的问题，以及个别页面的 UI 样式问题。 | 配合 B 端做订单的回归测试。 |      |      |

### 2017年5月11日

| 项目   | PM   | 今日                                       | 明日计划 | 进度说明 | 风险点  |
| ---- | ---- | ---------------------------------------- | ---- | ---- | ---- |
| C端   | 田学文  | staging 环境UI bug 基本修复，验收过程中出现一些不合理的UI 问题、功能问题，部分修复。 |      |      |      |

### 2017年5月12日

| 项目   | PM   | 今日                          | 明日计划 | 进度说明 | 风险点  |
| ---- | ---- | --------------------------- | ---- | ---- | ---- |
| C端   | 田学文  | 除了一个提交自测没有结论的问题外，其他问题都处理完毕。 |      |      |      |

			
	2	06.18	
0.5	06.20	卢江
yolar底层逻辑开发	2	06.18	CC
yolar底层改造	0.5	06.20	卢江
	0.5	06.20	卢江
dimension&di-foil改造	0.5	06.21	卢江
develop环境测试	1	06.22	卢江
Staging环境测试	1	06.23	卢江
验收	0.5	6.24	张正宇&GG

### 2017年5月16日

| 内容   | 耗时/人日   | 开始日期   | 实现者|
| ---- | ---- | ---- | ---- |
| C端优护家公众号授权页面和后端逻辑开发、自测   | 2 | 0618 |  擎祖&CC    |
| di-foil扫码逻辑开发、自测	   | 0.5 | 0620 |  卢江    |
| yolar影子公众号和科室管理底层逻辑开发、自测   | 0.5 | 0620 |  卢江    |
| singer模板信息推送开发、自测   | 1 | 0621 |  卢江    |
| C端随访、新消息Push接口改造、自测   | 1 | 0622 |  卢江    |
| C端订单Push接口改造、自测   | 1 | 0623 |  卢江    |
| staging环境测试   | 1 | 0624 |  旭红&奥伟    |
| 上线   | 1 | 0626 |  赵蔺Or明敏    |




| 项目   | PM   | 今日                          | 明日计划 | 进度说明 | 风险点  |
| ---- | ---- | --------------------------- | ---- | ---- | ---- |
| C端   | 田学文  | 除了一个提交自测没有结论的问题外，其他问题都处理完毕。 |      |      |      |


